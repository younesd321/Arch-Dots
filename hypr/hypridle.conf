###################################
# HyprIdle – Clean Setup          
# Intel HD 5500 + Hyprland        
# الخمول، السطوع، suspend، hyprlock   
###################################

general {
    # لا تبدأ أكثر من نسخة واحدة من hyprlock
    lock_cmd = pidof hyprlock || hyprlock       

    # قبل دخول suspend، قفل الجلسة
    before_sleep_cmd = loginctl lock-session    

    # عند الاستيقاظ من السكون، hyprlock يظهر مباشرة
    after_sleep_cmd = hyprlock                  
}

# -------------------------------
# خفض السطوع بعد 30 دقيقة
# -------------------------------
listener {
    timeout = 1800                # 30 دقيقة * 60 ثانية
    on-timeout = brightnessctl -s set 50  # خفض السطوع
    on-resume = brightnessctl -r         # استعادة السطوع عند النشاط
}

# -------------------------------
# دخول وضع السكون بعد 45 دقيقة
# -------------------------------
listener {
    timeout = 2700                # 45 دقيقة * 60 ثانية
    on-timeout = systemctl suspend # دخول suspend
    # عند الاستيقاظ hyprlock يظهر تلقائياً عبر general.after_sleep_cmd
}
